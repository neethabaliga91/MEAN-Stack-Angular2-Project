<h1 class="page-header">View Workflow</h1>
<div class="row show-hide-message" *ngIf="message">
  <div [ngClass]="messageClass">
    {{ message }}
  </div>
</div>

<div class="container">
  <div *ngIf="!newPost && workflow">
    <div  class="panel panel-primary">
      <div class="panel-heading">
        <h3 class="panel-title">{{workflow.title}}</h3>
      </div>
      <div class="panel-body">
        
        <br />
        <br />
        <a [routerLink]="['/step', workflow._id]" *ngIf="username === workflow.createdBy">
          <button type="button" name="button" class="btn btn-sm btn-info">Add Step</button>
        </a>
        <a [routerLink]="['/edit-workflow/', workflow._id]" *ngIf="username === workflow.createdBy">
          <button type="button" name="button" class="btn btn-sm btn-warning">Edit</button>
        </a>
        <a [routerLink]="['/delete-workflow/',workflow._id]" *ngIf="username === workflow.createdBy">
          <button [disabled]="processing" type="button" name="button" class="btn btn-sm btn-danger">Delete</button>
        </a>
        <br/> {{workflow.body}}
        <br />
        <div id="rootwizard">
          <div class="navbar">
            <div class="navbar-inner">
              <div class="container">
          <ul>
              <li *ngFor="let s of subprocesses; let i = index"><a href="#tab{{i+1}}" data-toggle="tab">{{s.title}}</a></li>
          </ul>
           </div>
            </div>
          </div>
            <div id="bar" class="progress">
              <div class="progress-bar" role="progressbar" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100" style="width: 0%;"></div>
            </div>
          <div class="tab-content">
              <div *ngFor="let s of subprocesses; let i = index" class="tab-pane" id="tab{{i+1}}">
                {{s.body}}
              </div>
          </div>
        </div>
      </div>
    
      <div class="panel-footer">
        <strong>Created by: </strong>{{workflow.createdBy}}
        <br />
        <strong>Date: </strong>{{workflow.createdAt | date : 'MMM dd, yyyy'}}
        <br />
      </div>

    </div>
  </div>
</div>